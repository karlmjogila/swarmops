# Flyway Configuration for HL-Bot v8
# https://flywaydb.org/documentation/configuration/configfile

# JDBC connection URL
flyway.url=jdbc:postgresql://postgres:5432/hlbot

# Database credentials
flyway.user=hlbot
flyway.password=${FLYWAY_PASSWORD:-hlbot_dev_password}

# Location of migration scripts
flyway.locations=filesystem:/flyway/sql

# Baseline configuration
# Set to true to automatically call baseline when migrate is executed against a non-empty schema
flyway.baselineOnMigrate=true
flyway.baselineVersion=0
flyway.baselineDescription=Baseline

# Validation settings
flyway.validateMigrationNaming=true
flyway.validateOnMigrate=true

# Schema settings
flyway.schemas=public

# Table for tracking applied migrations
flyway.table=flyway_schema_history

# Allow out of order migrations (useful for team development)
flyway.outOfOrder=false

# Placeholders (environment variables can be used)
flyway.placeholders.environment=${FLYWAY_ENVIRONMENT:-development}

# Clean is disabled by default for safety
flyway.cleanDisabled=true

# Connect retries (useful for Docker startup ordering)
flyway.connectRetries=10
flyway.connectRetriesInterval=1

# Logging
flyway.outputQueryResults=false
